{% extends 'index.html.twig' %}

{% block content %}
    <main id="main-home">
        <div class="presentation">
            <img src="assets/img/soja_flou.png" alt="soja picture">
            <div>
                <p>
                    <span>Découvrez :</span>
                    Comment convertir votre liste de courses
                </p>
                <p>
                    How to Vegan est un outil qui vous permet de convertir automatiquement
                    votre liste de courses traditionnelle en liste de courses vegan.
                    Vous pouvez également ajouter les filtres "bio" et/ou "gluten free" à
                    votre sélection et épingler votre liste pour la retrouver dans votre
                    profil.
                </p>
                <a href="?action=convert">Essayez l'outil conversion</a>
            </div>
        </div>
        <form name="shoppping-list" id="form-list" class="frame-elt">
            <div class="list">
                {% if user.username is defined and user.username is not empty %}
                    <img src="assets/img/pin_list.png" alt="icon pin" id="img-pin" title="Epingler cette liste">
                {% else %}
                    <img style="visibility: hidden;" src="assets/img/pin_list.png" alt="icon pin" id="img-pin" title="Epingler cette liste">
                {% endif %}
                <ul>
                    <li class="shop-li">
                        <select name="products-list">
                            <option value="NULL">Sélectionnez un produit</option>
                            <optgroup label="Céréales">
                                <option value="Pâtes">Pâtes</option>
                                <option value="Riz">Riz</option>
                                <option value="Maïs">Maïs</option>
                                <option value="Blé">Blé</option>
                                <option value="Corn Flakes">Corn Flakes</option>
                            </optgroup>
                            <optgroup label="Viandes et protéines">
                                <option value="Oeufs">Oeufs</option>
                                <option value="Poisson">Poisson</option>
                                <option value="Viande hachée">Viande hachée</option>
                                <option value="Poulet">Poulet</option>
                                <option value="Steak">Steak</option>
                            </optgroup>
                            <optgroup label="Produits laitiers">
                                <option value="Lait">Lait</option>
                                <option value="Beurre">Beurre</option>
                                <option value="Yaourt">Yaourt</option>
                                <option value="Fromage">Fromage</option>
                            </optgroup>
                            <optgroup label="Fruits">
                                <option value="Pommes">Pommes</option>
                                <option value="Bananes">Bananes</option>
                                <option value="Clémentines">Clémentines</option>
                                <option value="Ananas">Ananas</option>
                            </optgroup>
                            <optgroup label="Légumes">
                                <option value="Tomates">Tomates</option>
                                <option value="Concombre">Concombre</option>
                                <option value="Poireau">Poireau</option>
                                <option value="Courgette">Courgette</option>
                                <option value="Haricots">Haricots</option>
                            </optgroup>
                            <optgroup label="Chocolat">
                                <option value="Chocolat noir">Chocolat noir</option>
                                <option value="Chocolat au lait">Chocolat au lait</option>
                            </optgroup>
                            <optgroup label="Charcuterie"> 
                                <option value="Saucisse">Saucisse</option>
                                <option value="Saucisson">Saucisson</option>
                                <option value="Jambon">Jambon</option>
                            </optgroup>
                            <optgroup label="Assaisonnement">
                                <option value="Huile">Huile</option>
                                <option value="Mayonnaise">Mayonnaise</option>
                                <option value="Moutarde">Moutarde</option>
                                <option value="Ketchup">Ketchup</option>
                            </optgroup>
                            <option value="Bonbons">Bonbons</option>
                        </select>
                    </li>
                    <div id="recap-list"></div>
                </ul>
                <img src="assets/img/delete_list.png" alt="icon delete" id ="img-delete" title="Supprimer cette liste">
                <img src="assets/img/leaf.png" alt="leaf" id="img-leaf">
            </div>                
            <div class="convert frame-elt">
                <span class="filters">
                    <h3>Filtres :</h3>
                    <input type="checkbox" id="filter-bio" value="Bio">
                    <label for="filter-bio">Bio</label>
                    <input type="checkbox" id="filter-gluten" value="Gluten-free">
                    <label for="filter-gluten">Gluten Free</label>
                </span>
                <span class="submit">
                    <h3>
                        <input type="submit" value="Convertir ma liste">
                    </h3>
                    <input type="image" src="assets/img/arrow_convert.png" alt="green arrow" disabled>
                </span>
            </div>
        </form>
        <div class="spotlight-type" id="spotlight-type-basket">
            <div class="spotlight-title">
                <img src="assets/img/icon_basket.png" alt="icon basket">
                <div>
                    <p>découvrez nos <span>paniers types</span></p>
                    <p>Le guide du petit vegan</p>
                </div>
            </div>
            <div class="spotlight-container-basket">
                {% for basket in baskets %}
                    <div class="spotlight-container-img">
                        <div class="basket-buttons">
                            {% if user.username is defined and user.username is not empty %}
                                <div class="crush">
                                    <img src="assets/img/heart.png" alt="icon heart" class="btn-crush">
                                </div>
                            {% else %}
                                <div style="visibility: hidden;" class="crush">
                                    <img src="assets/img/heart.png" alt="icon heart" class="btn-crush">
                                </div>
                            {% endif %}
                            <div class="open-modal">
                                <img src="assets/img/open_modal.png" alt="icon open">
                            </div>
                        </div>
                        <img class="spotlight-img" src="assets/img/frame_picture_basket.png" alt="frame picture">
                        <div class="spotlight-basket">
                            <p class="price">{{ basket.price }}&euro;</p>
                            <p class="name"><span>{{ basket.name }}</span></p>
                            <div class="container-category-indicator">
                                {% if 'bio' in basket.category %}
                                    <div class="category-indicator category-bio">Bio</div>
                                {% endif %}
                                {% if 'gluten-free' in basket.category %}
                                    <div class="category-indicator category-gluten-free">Gluten Free</div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
            <a href="?action=basket">
                <div class="input-discover">
                    <p>Découvrez tous nos paniers</p>
                    <img src="assets/img/arrow_red.png" alt="red arrow">
                </div>
            </a>
        </div>
        <img src="assets/img/leaf_right_side.png" alt="leaf picture" id="leaf-side">
        <div class="spotlight-type" id="spotlight-type-recipe">
            <div class="spotlight-title">
                <img src="assets/img/icon_recipe.png" alt="icon recipe">
                <div>
                    <p>découvrez nos <span>recettes</span></p>
                    <p>sélection de la semaine</p>
                </div>
            </div>
            <div class="spotlight-container-recipe">
                {% for recipe in recipes %}
                    <div class="spotlight-container-img spotlight-recipe">
                        <img class="spotlight-img" src="assets/img/seitan.png" alt="frame picture">
                        <div class="container-desc">
                            <p class="recipe-title">{{ recipe.name }}</p>
                            <div class="kitchen">
                                <div class="recipe-author">
                                    <img src="assets/img/chief.png" alt="chief icon">
                                    <div>
                                        <p class="proposed-by">Proposé par</p>
                                        <p class="author">Le staff</p>
                                    </div>
                                </div>
                                <div class="category-img">
                                    <img src="assets/img/category_vegan.png" alt="icon vegan">
                                    {% if 'gluten-free' in recipe.category %}
                                        <img src="assets/img/category_gluten_free.png" alt="icon gluten free">
                                    {% endif %}
                                    {% if 'bio' in recipe.category %}
                                        <img src="assets/img/category_bio.png" alt="icon bio">
                                    {% endif %}
                                </div>
                            </div>
                            <div class="time">
                                <img src="assets/img/alarm.png" alt="alarm icon">
                                <p><span>Prep:</span> {{ recipe.preparation }}min</p>
                                <p><span>Cuisson:</span> {{ recipe.baking }}min</p>
                                <p><span>Total:</span> {{ recipe.preparation + recipe.baking }}min</p>
                            </div>
                            <a href="?action=recipe">Voir plus</a>
                        </div>
                    </div>
                {% endfor %}
            </div>
            <a href="?action=recipe">
                <div class="input-discover">
                    <p>Découvrez toutes nos recettes</p>
                    <img src="assets/img/arrow_red.png" alt="red arrow">
                </div>
            </a>
        </div>
    </main>
    <form action="?action=pin" method="POST" name="form-pin" id="form-pin">
        <img src="assets/img/back_modal.png" class="btn-close" alt="close">
        <h3>épingler cette liste</h3>
        <p>Entrez un nom de liste ci-dessous :</p>
        <input type="text" placeholder="Nom" name="listname">
        <input type="hidden" name="list-content">
        <input type="submit" value="épingler">
    </form>
{% endblock %}
function convert(){function a(){$("option").prop("disabled",!1),$.each(h,function(a,b){$('option[value="'+b+'"]').prop("disabled",!0)})}function b(){var c=d.clone();$("<li></li>").addClass("shop-li").insertBefore($("#recap-list")),$("li").last().append(c),c.each(function(){$(this).change("click",function(){"NULL"!=$("select").last().val()&&($('input[type="submit"]').prop("disabled",!1),b(),h=[],$("select").each(function(){"NULL"!=$(this).val()&&($("option").prop("disabled",!1),h.push($(this).val()))}),a())})})}var c=$("#form-list"),d=$("select"),e=$('input[type="checkbox"]'),f=[],g=[],h=[];$('.submit input[type="submit"]').prop("disabled",!0),e.each(function(){$(this).click(function(){1==$(this).is(":checked")?0==g.length?g.push($(this).val()):-1==$.inArray($(this).val(),g)&&g.push($(this).val()):-1!=$.inArray($(this).val(),g)&&g.splice($.inArray($(this).val(),g),1)})}),d.each(function(){$(this).change("click",function(){"NULL"!=$(this).val()&&($('input[type="submit"]').prop("disabled",!1),"NULL"!=$("select").last().val()&&(b(),h=[],$("select").each(function(){"NULL"!=$(this).val()&&($("option").prop("disabled",!1),h.push($(this).val()))}),a()))})}),c.on("submit",function(){return $("select").each(function(){var a=$(this).find("option:selected").text();f.push(a),$('.submit input[type="submit"]').prop("disabled",!0)}),$.ajax({url:"assets/json/list.json",type:"GET",dataType:"json",success:function(a){$(".list li").css("display","none");for(var b in a)for(var c in f)b==f[c]&&(g.length>0?-1!==$.inArray("Bio",g)&&-1!==$.inArray("Gluten-free",g)?"NULL"==a[b].BG?($("#recap-list").append("<li></li>"),$("li").last().after("Ce produit n'existe pas pour les filtres sélectionnés. Equivalent vegan de base : "+a[b].vegan+"<br>")):($("#recap-list").append("<li></li>"),$("li").last().addClass("result-li").append(a[b].BG+"<br>")):-1!==$.inArray("Bio",g)?($("#recap-list").append("<li></li>").addClass("result-li"),$("li").last().addClass("result-li").append(a[b].bio+"<br>")):-1!==$.inArray("Gluten-free",g)&&($("#recap-list").append("<li></li>").addClass("result-li"),$("li").last().addClass("result-li").append(a[b].gluten+"<br>")):($("#recap-list").append("<li></li>").addClass("result-li"),$("li").last().addClass("result-li").append(a[b].vegan+"<br>")))},error:function(a,b,c){console.log(a,b,c)}}),!1})}function modalActions(){function a(){e.style.overflow="hidden",f.classList.add("blur-elements"),g.classList.add("blur-elements"),h.classList.add("blur-elements");for(var a=0;a<i.length;a++)i[a].classList.add("blur-elements")}function b(){e.style.overflow="auto",f.classList.remove("blur-elements"),g.classList.remove("blur-elements"),h.classList.remove("blur-elements");for(var a=0;a<i.length;a++)i[a].classList.remove("blur-elements")}for(var c=document.querySelectorAll(".open-modal"),d=document.querySelectorAll(".btn-close"),e=document.querySelector("body"),f=document.querySelector("header"),g=document.querySelector("#footer-mobile"),h=document.querySelector("#footer-desktop"),i=document.querySelectorAll(".blur"),j=0;j<c.length;j++)c[j].onclick=function(){a();for(var c=0;c<d.length;c++)d[c].onclick=function(){b()}}}function listActions(){function a(){for(var a=document.querySelectorAll(".list select"),b=[],c="",f=0;f<a.length;f++){var g=a[f].options[a[f].selectedIndex].value;"NULL"!==g&&b.push(g)}for(var f=0;f<b.length;f++)f<b.length-1?c+=b[f]+",":c+=b[f];null!==c&&""!==c&&(e.value=c,d.style.display="flex",document.querySelector("body").style.overflow="hidden",document.querySelector("header").classList.add("blur-elements"),document.querySelector("main").classList.add("blur-elements"),document.querySelector("#footer-mobile").classList.add("blur-elements"),document.querySelector("#footer-desktop").classList.add("blur-elements"))}var b=document.querySelector("#img-delete"),c=(document.querySelector(".list ul"),document.querySelector(".list ul").childNodes[1],document.querySelector("#recap-list"),document.querySelector("#img-pin")),d=document.forms["form-pin"],e=d.elements["list-content"],f=document.querySelector(".btn-close");c.onclick=function(){a()},f.onclick=function(){d.style.display="none",document.querySelector("body").style.overflow="auto",document.querySelector("header").classList.remove("blur-elements"),document.querySelector("main").classList.remove("blur-elements"),document.querySelector("#footer-mobile").classList.remove("blur-elements"),document.querySelector("#footer-desktop").classList.remove("blur-elements")},b.onclick=function(){location.reload()}}function displaySavedList(){for(var a=document.querySelectorAll(".btn-see-list"),b=0;b<a.length;b++)a[b].onclick=function(){this.previousElementSibling.style.display="block",this.style.display="none"}}function modifyPassword(){var a=document.querySelector(".password .link"),b=document.querySelector(".password div:last-child");a.onclick=function(){b.style.display="flex"}}function anchor(){$(".category").on("click",function(){var a=$(this).attr("href");return $("html, body").animate({scrollTop:$(a).offset().top},750),!1}),$(".basket").on("click",function(){var a=$(this).attr("href");return $("html, body").animate({scrollTop:$(a).offset().top},750),!1})}function anchorAdmin(){$(".for-anchor").on("click",function(){var a=$(this).attr("href");return $("html, body").animate({scrollTop:$(a).offset().top},750),!1})}function sortingRecipes(){var a=document.getElementById("filter-submit");document.getElementById("submit").onclick=function(){for(var b=document.getElementsByClassName("spotlight-recipe"),c=a.elements.myFilters,d=[],e=0;e<b.length;e+=1)b[e].style.display="none";for(e=0;e<c.length;e++)!0===c[e].checked&&d.push(c[e].value);for(var f=0;f<b.length;f+=1)for(var g=0;g<d.length;g+=1)b[f].classList.contains(d[g])&&(b[f].style.display="flex")}}function sortingBaskets(){for(var a=document.querySelectorAll(".desc_basket"),b=document.querySelectorAll(".category"),c=document.querySelector("#details"),d=document.querySelector(".click-basket-mobile"),e=document.querySelector(".click-basket-desktop"),f=0;f<a.length;f++)a[f].onclick=function(){var a=document.querySelectorAll(".ingredient"),b=this.getAttribute("id"),f=document.getElementsByClassName(b);c.style.display="flex",d.style.display="none",e.style.display="none";for(var g=0;g<a.length;g+=1)a[g].style.display="none";for(var g=0;g<f.length;g+=1)f[g].style.display="flex"};for(var g=0;g<b.length;g++)b[g].onclick=function(){for(var a=document.querySelectorAll(".ingredient"),b=document.querySelectorAll(".basket"),c=this.getAttribute("id"),d=document.getElementsByClassName(c),e=0;e<a.length;e+=1)a[e].style.display="none";for(var e=0;e<b.length;e+=1)b[e].style.display="none";for(var e=0;e<d.length;e+=1)d[e].style.display="flex"};$(".category").on("click",function(){var a=$(this).attr("href");return $("html, body").animate({scrollTop:$(a).offset().top},750),!1}),$(".basket").on("click",function(){var a=$(this).attr("href");return $("html, body").animate({scrollTop:$(a).offset().top},750),!1})}function carousel(){$(".rslides").responsiveSlides()}!function(a,b,c){a.fn.responsiveSlides=function(d){var e=a.extend({auto:!0,speed:500,timeout:4e3,pager:!1,nav:!1,random:!1,pause:!1,pauseControls:!0,prevText:"Previous",nextText:"Next",maxwidth:"",navContainer:"",manualControls:"",namespace:"rslides",before:a.noop,after:a.noop},d);return this.each(function(){c++;var f,g,h,i,j,k,l=a(this),m=0,n=l.children(),o=n.length,p=parseFloat(e.speed),q=parseFloat(e.timeout),r=parseFloat(e.maxwidth),s=e.namespace,t=s+c,u=s+"_nav "+t+"_nav",v=s+"_here",w=t+"_on",x=t+"_s",y=a("<ul class='"+s+"_tabs "+t+"_tabs' />"),z={float:"left",position:"relative",opacity:1,zIndex:2},A={float:"none",position:"absolute",opacity:0,zIndex:1},B=function(){var a=document.body||document.documentElement,b=a.style,c="transition";if("string"==typeof b[c])return!0;f=["Moz","Webkit","Khtml","O","ms"],c=c.charAt(0).toUpperCase()+c.substr(1);var d;for(d=0;d<f.length;d++)if("string"==typeof b[f[d]+c])return!0;return!1}(),C=function(b){e.before(b),B?(n.removeClass(w).css(A).eq(b).addClass(w).css(z),m=b,setTimeout(function(){e.after(b)},p)):n.stop().fadeOut(p,function(){a(this).removeClass(w).css(A).css("opacity",1)}).eq(b).fadeIn(p,function(){a(this).addClass(w).css(z),e.after(b),m=b})};if(e.random&&(n.sort(function(){return Math.round(Math.random())-.5}),l.empty().append(n)),n.each(function(a){this.id=x+a}),l.addClass(s+" "+t),d&&d.maxwidth&&l.css("max-width",r),n.hide().css(A).eq(0).addClass(w).css(z).show(),B&&n.show().css({"-webkit-transition":"opacity "+p+"ms ease-in-out","-moz-transition":"opacity "+p+"ms ease-in-out","-o-transition":"opacity "+p+"ms ease-in-out",transition:"opacity "+p+"ms ease-in-out"}),n.length>1){if(q<p+100)return;if(e.pager&&!e.manualControls){var D=[];n.each(function(a){var b=a+1;D+="<li><a href='#' class='"+x+b+"'>"+b+"</a></li>"}),y.append(D),d.navContainer?a(e.navContainer).append(y):l.after(y)}if(e.manualControls&&(y=a(e.manualControls),y.addClass(s+"_tabs "+t+"_tabs")),(e.pager||e.manualControls)&&y.find("li").each(function(b){a(this).addClass(x+(b+1))}),(e.pager||e.manualControls)&&(k=y.find("a"),g=function(a){k.closest("li").removeClass(v).eq(a).addClass(v)}),e.auto&&(h=function(){j=setInterval(function(){n.stop(!0,!0);var a=m+1<o?m+1:0;(e.pager||e.manualControls)&&g(a),C(a)},q)})(),i=function(){e.auto&&(clearInterval(j),h())},e.pause&&l.hover(function(){clearInterval(j)},function(){i()}),(e.pager||e.manualControls)&&(k.bind("click",function(b){b.preventDefault(),e.pauseControls||i();var c=k.index(this);m===c||a("."+w).queue("fx").length||(g(c),C(c))}).eq(0).closest("li").addClass(v),e.pauseControls&&k.hover(function(){clearInterval(j)},function(){i()})),e.nav){var E="<a href='#' class='"+u+" prev'>"+e.prevText+"</a><a href='#' class='"+u+" next'>"+e.nextText+"</a>";d.navContainer?a(e.navContainer).append(E):l.after(E);var F=a("."+t+"_nav"),G=F.filter(".prev");F.bind("click",function(b){b.preventDefault();var c=a("."+w);if(!c.queue("fx").length){var d=n.index(c),f=d-1,h=d+1<o?m+1:0;C(a(this)[0]===G[0]?f:h),(e.pager||e.manualControls)&&g(a(this)[0]===G[0]?f:h),e.pauseControls||i()}}),e.pauseControls&&F.hover(function(){clearInterval(j)},function(){i()})}}if(void 0===document.body.style.maxWidth&&d.maxwidth){var H=function(){l.css("width","100%"),l.width()>r&&l.css("width",r)};H(),a(b).bind("resize",function(){H()})}})}}(jQuery,this,0),window.onload=function(){var a=window.location.href,b=document.querySelector("header"),c=document.querySelector("#convert-page"),d=document.querySelector("#basket-page"),e=document.querySelector("#recipe-page"),f=document.querySelector("#about-page");if(-1!==a.search("home")&&(b.id="header-home",carousel(),modalActions()),-1!==a.search("convert")&&(c.id="active-page",c.parentNode.childNodes[1].id="bookmark",b.id="header-convert",convert(),listActions()),-1!==a.search("basket")&&(d.id="active-page",d.parentNode.childNodes[1].id="bookmark",b.id="header-basket",anchor(),sortingBaskets()),-1!==a.search("recipe")&&(e.id="active-page",e.parentNode.childNodes[1].id="bookmark",b.id="header-recipe",modalActions(),sortingRecipes()),-1!==a.search("profile")){b.id="header-profile";var g=document.querySelector("#modify-link"),h=document.querySelector("#pin-link"),i=document.querySelector("#favorites-link"),j=document.querySelector("#modify-content"),k=document.querySelector("#pin-content"),l=document.querySelector("#favorites-content");g.onclick=function(){location.reload()},h.onclick=function(){location.reload()},i.onclick=function(){location.reload()},-1!==a.search("pin")?(h.parentNode.id="active-tab",k.parentNode.id="active-content"):-1!==a.search("favorite")?(i.parentNode.id="active-tab",l.parentNode.id="active-content",modalActions()):(g.parentNode.id="active-tab",j.parentNode.id="active-content",modifyPassword()),displaySavedList()}-1!==a.search("about")&&(f.id="active-page",f.parentNode.childNodes[1].id="bookmark",b.id="header-about"),-1!==a.search("modal")&&(b.id="header-modal"),-1===a.search("login")&&-1===a.search("register")||(b.id="header-login"),-1!==a.search("admin")&&(b.id="header-admin",anchorAdmin())};
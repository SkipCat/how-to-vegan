function convert(){function a(){$("option").prop("disabled",!1),$.each(h,function(a,b){$('option[value="'+b+'"]').prop("disabled",!0)})}function b(){var c=d.clone();$("<li></li>").addClass("shop-li").insertBefore($("#recap-list")),$("li").last().append(c),console.log("new select"),c.each(function(){$(this).on("click",function(){"NULL"!=$("select").last().val()&&($('input[type="submit"]').prop("disabled",!1),b(),h=[],$("select").each(function(){"NULL"!=$(this).val()&&($("option").prop("disabled",!1),h.push($(this).val()))}),a())})})}var c=$("#form-list"),d=$("select"),e=$('input[type="checkbox"]'),f=[],g=[],h=[];$('.submit input[type="submit"]').prop("disabled",!0),e.each(function(){$(this).click(function(){1==$(this).is(":checked")?0==g.length?g.push($(this).val()):-1==$.inArray($(this).val(),g)&&g.push($(this).val()):-1!=$.inArray($(this).val(),g)&&g.splice($.inArray($(this).val(),g),1)})}),d.each(function(){$(this).on("click",function(){"NULL"!=$(this).val()&&($('input[type="submit"]').prop("disabled",!1),"NULL"!=$("select").last().val()&&(b(),h=[],$("select").each(function(){"NULL"!=$(this).val()&&($("option").prop("disabled",!1),h.push($(this).val()))}),a()))})}),c.on("submit",function(){return $("select").each(function(){var a=$(this).find("option:selected").text();f.push(a)}),$.ajax({url:"assets/json/list.json",type:"GET",dataType:"json",success:function(a){$(".list li").css("display","none");for(var b in a)for(var c in f)b==f[c]&&(g.length>0?-1!==$.inArray("Bio",g)&&-1!==$.inArray("Gluten-free",g)?"NULL"==a[b].BG?($("#recap-list").append("<li></li>"),$("li").last().after("Ce produit n'existe pas pour les filtres sélectionnés. Equivalent vegan de base : "+a[b].vegan+"<br>")):($("#recap-list").append("<li></li>"),$("li").last().addClass("result-li").append(a[b].BG+"<br>")):-1!==$.inArray("Bio",g)?($("#recap-list").append("<li></li>").addClass("result-li"),$("li").last().addClass("result-li").append(a[b].bio+"<br>")):-1!==$.inArray("Gluten-free",g)&&$("li").last().addClass("result-li").append(a[b].gluten+"<br>"):($("#recap-list").append("<li></li>").addClass("result-li"),$("li").last().addClass("result-li").append(a[b].vegan+"<br>")))},error:function(a,b,c){console.log(a,b,c)}}),!1})}function listActions(){function a(){for(;c.firstChild;)c.removeChild(c.firstChild);var a=document.createElement("li");a.className="shop-li",c.appendChild(a),d.childNodes[1].value="NULL",a.appendChild(d)}var b=(document.querySelector("#img-pin"),document.querySelector("#img-delete")),c=document.querySelector(".list ul"),d=document.querySelector(".list ul").childNodes[1];document.querySelector("#recap-list");b.onclick=function(){a()}}function crush(){var a=document.querySelectorAll(".btn-crush"),b=!1;for(var c in a)a[c].onclick=function(){console.log(this),0==b?(this.src="assets/img/heart_red.png",b=!0):(this.src="assets/img/heart.png",b=!1)}}function modalActions(){var a=document.querySelectorAll(".open-modal"),b=document.querySelector(".btn-close");for(var c in a)a[c].onclick=function(){document.querySelector("body").style.overflow="hidden",document.querySelector("header").classList.add("blur-elements"),document.querySelector("main").classList.add("blur-elements"),document.querySelector("#footer-mobile").classList.add("blur-elements"),document.querySelector("#footer-desktop").classList.add("blur-elements")};b.onclick=function(){document.querySelector("body").style.overflow="auto",document.querySelector("header").classList.remove("blur-elements"),document.querySelector("main").classList.remove("blur-elements"),document.querySelector("#footer-mobile").classList.remove("blur-elements"),document.querySelector("#footer-desktop").classList.remove("blur-elements")}}function anchor(){$(".category").on("click",function(){var a=$(this).attr("href");return $("html, body").animate({scrollTop:$(a).offset().top},750),!1}),$(".basket").on("click",function(){var a=$(this).attr("href");return $("html, body").animate({scrollTop:$(a).offset().top},750),!1})}function carousel(){$(".rslides").responsiveSlides("auto: false","nav: true","prevText: Previous","nextText: Next")}!function(a,b,c){a.fn.responsiveSlides=function(d){var e=a.extend({auto:!1,speed:500,timeout:4e3,pager:!1,nav:!0,random:!1,pause:!1,pauseControls:!0,prevText:"Previous",nextText:"Next",maxwidth:"",navContainer:"",manualControls:"",namespace:"rslides",before:a.noop,after:a.noop},d);return this.each(function(){c++;var f,g,h,i,j,k,l=a(this),m=0,n=l.children(),o=n.length,p=parseFloat(e.speed),q=parseFloat(e.timeout),r=parseFloat(e.maxwidth),s=e.namespace,t=s+c,u=s+"_nav "+t+"_nav",v=s+"_here",w=t+"_on",x=t+"_s",y=a("<ul class='"+s+"_tabs "+t+"_tabs' />"),z={float:"left",display:"flex",position:"relative",opacity:1,zIndex:2},A={float:"none",position:"absolute",opacity:0,zIndex:1},B=function(){var a=document.body||document.documentElement,b=a.style,c="transition";if("string"==typeof b[c])return!0;f=["Moz","Webkit","Khtml","O","ms"],c=c.charAt(0).toUpperCase()+c.substr(1);var d;for(d=0;d<f.length;d++)if("string"==typeof b[f[d]+c])return!0;return!1}(),C=function(b){e.before(b),B?(n.removeClass(w).css(A).eq(b).addClass(w).css(z),m=b,setTimeout(function(){e.after(b)},p)):n.stop().fadeOut(p,function(){a(this).removeClass(w).css(A).css("opacity",1)}).eq(b).fadeIn(p,function(){a(this).addClass(w).css(z),e.after(b),m=b})};if(e.random&&(n.sort(function(){return Math.round(Math.random())-.5}),l.empty().append(n)),n.each(function(a){this.id=x+a}),l.addClass(s+" "+t),d&&d.maxwidth&&l.css("max-width",r),n.hide().css(A).eq(0).addClass(w).css(z).show(),B&&n.show().css({"-webkit-transition":"opacity "+p+"ms ease-in-out","-moz-transition":"opacity "+p+"ms ease-in-out","-o-transition":"opacity "+p+"ms ease-in-out",transition:"opacity "+p+"ms ease-in-out"}),n.length>1){if(q<p+100)return;if(e.pager&&!e.manualControls){var D=[];n.each(function(a){var b=a+1;D+="<li><a href='#' class='"+x+b+"'>"+b+"</a></li>"}),y.append(D),d.navContainer?a(e.navContainer).append(y):l.after(y)}if(e.manualControls&&(y=a(e.manualControls),y.addClass(s+"_tabs "+t+"_tabs")),(e.pager||e.manualControls)&&y.find("li").each(function(b){a(this).addClass(x+(b+1))}),(e.pager||e.manualControls)&&(k=y.find("a"),g=function(a){k.closest("li").removeClass(v).eq(a).addClass(v)}),e.auto&&(h=function(){j=setInterval(function(){n.stop(!0,!0);var a=m+1<o?m+1:0;(e.pager||e.manualControls)&&g(a),C(a)},q)})(),i=function(){e.auto&&(clearInterval(j),h())},e.pause&&l.hover(function(){clearInterval(j)},function(){i()}),(e.pager||e.manualControls)&&(k.bind("click",function(b){b.preventDefault(),e.pauseControls||i();var c=k.index(this);m===c||a("."+w).queue("fx").length||(g(c),C(c))}).eq(0).closest("li").addClass(v),e.pauseControls&&k.hover(function(){clearInterval(j)},function(){i()})),e.nav){var E="<div class='choose-page'><a href='#' class='"+u+" prev'> <img src='assets/img/arrow_black_left.png'' alt='left arrow'> </a><div class='container-bullets'><div class='bullet'></div><div class='bullet'></div><div class='bullet'></div><div class='bullet'></div></div><a href='#' class='"+u+" next'><img src='assets/img/arrow_black_right.png'' alt='left arrow'></a></div>";d.navContainer?a(e.navContainer).append(E):l.after(E);var F=a("."+t+"_nav"),G=F.filter(".prev");F.bind("click",function(b){b.preventDefault();var c=a("."+w);if(!c.queue("fx").length){var d=n.index(c),f=d-1,h=d+1<o?m+1:0;C(a(this)[0]===G[0]?f:h),(e.pager||e.manualControls)&&g(a(this)[0]===G[0]?f:h),e.pauseControls||i()}}),e.pauseControls&&F.hover(function(){clearInterval(j)},function(){i()})}}if(void 0===document.body.style.maxWidth&&d.maxwidth){var H=function(){l.css("width","100%"),l.width()>r&&l.css("width",r)};H(),a(b).bind("resize",function(){H()})}})}}(jQuery,this,0),window.onload=function(){var a=window.location.href,b=document.querySelector("header"),c=document.querySelector("#convert-page"),d=document.querySelector("#basket-page"),e=document.querySelector("#recipe-page"),f=document.querySelector("#about-page");if(-1!==a.search("home")&&(b.id="header-home",convert(),listActions(),crush(),modalActions()),-1!==a.search("convert")&&(c.id="active-page",c.parentNode.childNodes[1].id="bookmark",b.id="header-convert",convert(),listActions()),-1!==a.search("basket")&&(d.id="active-page",d.parentNode.childNodes[1].id="bookmark",b.id="header-basket",anchor()),-1!==a.search("recipe")&&(e.id="active-page",e.parentNode.childNodes[1].id="bookmark",b.id="header-recipe",carousel(),crush(),modalActions()),-1!==a.search("profile")){var g=document.querySelector("#modify-link"),h=document.querySelector("#pin-link"),i=document.querySelector("#favorites-link"),j=document.querySelector("#modify-content"),k=document.querySelector("#pin-content"),l=document.querySelector("#favorites-content");g.onclick=function(){location.reload()},h.onclick=function(){location.reload()},i.onclick=function(){location.reload()},-1!==a.search("pin")?(h.parentNode.id="active-tab",k.parentNode.id="active-content"):-1!==a.search("favorite")?(i.parentNode.id="active-tab",l.parentNode.id="active-content"):(g.parentNode.id="active-tab",j.parentNode.id="active-content")}-1!==a.search("about")&&(f.id="active-page",f.parentNode.childNodes[1].id="bookmark",b.id="header-about"),-1!==a.search("modal")&&(b.id="header-modal")};